{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/src/store/products/server/refresh.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { getPrismaClient } from \"@/src/prisma/getClient\";\r\nimport { Product } from \"@prisma/client\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\nexport type TPage<T> = {\r\n  data: T[];\r\n  pages: number;\r\n  currentPage: number;\r\n};\r\n\r\nexport async function refresh(\r\n  page: number = 0,\r\n  revalidate = true,\r\n): Promise<TPage<Product>> {\r\n  if (revalidate) {\r\n    revalidatePath(\"/\");\r\n  }\r\n\r\n  const totalProducts = await getPrismaClient().product.count();\r\n  const pages = Math.ceil(totalProducts / 10);\r\n  const currentPage = Math.max(1, Math.min(page, pages));\r\n\r\n  return {\r\n    pages,\r\n    currentPage,\r\n    data: await getPrismaClient().product.findMany({\r\n      take: 10,\r\n      skip: 10 * (currentPage - 1),\r\n      orderBy: { name: \"asc\" },\r\n    }),\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;;;IAYsB,UAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/src/store/products/server/removeProduct.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { getPrismaClient } from \"@/src/prisma/getClient\";\r\nimport { Product } from \"@prisma/client\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\nexport async function removeProduct(product: Product) {\r\n  const result = await getPrismaClient().product.delete({\r\n    where: { id: product.id },\r\n  });\r\n\r\n  revalidatePath(\"/\");\r\n\r\n  return result;\r\n}\r\n"],"names":[],"mappings":";;;;;;IAMsB,gBAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/src/store/products/ProductsStore.ts"],"sourcesContent":["import { Product } from \"@prisma/client\";\r\nimport { makeAutoObservable, runInAction, toJS } from \"mobx\";\r\nimport { refresh, TPage } from \"./server/refresh\";\r\nimport { removeProduct } from \"./server/removeProduct\";\r\n\r\nexport class ProductsStore {\r\n  private loading = 0;\r\n  private page: TPage<Product> = {\r\n    currentPage: 1,\r\n    data: [],\r\n    pages: 1,\r\n  };\r\n\r\n  constructor(data: TPage<Product>) {\r\n    this.page = data;\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  public get currentPage() {\r\n    return this.page.currentPage;\r\n  }\r\n\r\n  public get isLoading() {\r\n    return this.loading > 0;\r\n  }\r\n\r\n  public get hasMore() {\r\n    return this.page.currentPage < this.page.pages;\r\n  }\r\n\r\n  public get hasPrevious() {\r\n    return this.page.currentPage > 1;\r\n  }\r\n\r\n  public get products() {\r\n    return this.page.data;\r\n  }\r\n\r\n  public async next() {\r\n    this.loading++;\r\n  }\r\n\r\n  public async previous() {\r\n    this.loading--;\r\n  }\r\n\r\n  public async refresh() {\r\n    this.asyncFn(async () => {\r\n      const page = await refresh(this.page.currentPage);\r\n      runInAction(() => {\r\n        this.page = page;\r\n      });\r\n    });\r\n  }\r\n\r\n  public async remove(product: Product) {\r\n    this.asyncFn(async () => {\r\n      await removeProduct(toJS(product));\r\n      this.refresh();\r\n    });\r\n  }\r\n\r\n  private async asyncFn<T>(fn: () => Promise<T>): Promise<T> {\r\n    this.loading++;\r\n    try {\r\n      return await fn();\r\n    } finally {\r\n      runInAction(() => {\r\n        this.loading--;\r\n      });\r\n    }\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AACA;AACA;AACA;;;;AAEO,MAAM;IACH,UAAU,EAAE;IACZ,OAAuB;QAC7B,aAAa;QACb,MAAM,EAAE;QACR,OAAO;IACT,EAAE;IAEF,YAAY,IAAoB,CAAE;QAChC,IAAI,CAAC,IAAI,GAAG;QACZ,CAAA,GAAA,2IAAA,CAAA,qBAAkB,AAAD,EAAE,IAAI;IACzB;IAEA,IAAW,cAAc;QACvB,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW;IAC9B;IAEA,IAAW,YAAY;QACrB,OAAO,IAAI,CAAC,OAAO,GAAG;IACxB;IAEA,IAAW,UAAU;QACnB,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK;IAChD;IAEA,IAAW,cAAc;QACvB,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG;IACjC;IAEA,IAAW,WAAW;QACpB,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI;IACvB;IAEA,MAAa,OAAO;QAClB,IAAI,CAAC,OAAO;IACd;IAEA,MAAa,WAAW;QACtB,IAAI,CAAC,OAAO;IACd;IAEA,MAAa,UAAU;QACrB,IAAI,CAAC,OAAO,CAAC;YACX,MAAM,OAAO,MAAM,CAAA,GAAA,0KAAA,CAAA,UAAO,AAAD,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW;YAChD,CAAA,GAAA,2IAAA,CAAA,cAAW,AAAD,EAAE;gBACV,IAAI,CAAC,IAAI,GAAG;YACd;QACF;IACF;IAEA,MAAa,OAAO,OAAgB,EAAE;QACpC,IAAI,CAAC,OAAO,CAAC;YACX,MAAM,CAAA,GAAA,0KAAA,CAAA,gBAAa,AAAD,EAAE,CAAA,GAAA,2IAAA,CAAA,OAAI,AAAD,EAAE;YACzB,IAAI,CAAC,OAAO;QACd;IACF;IAEA,MAAc,QAAW,EAAoB,EAAc;QACzD,IAAI,CAAC,OAAO;QACZ,IAAI;YACF,OAAO,MAAM;QACf,SAAU;YACR,CAAA,GAAA,2IAAA,CAAA,cAAW,AAAD,EAAE;gBACV,IAAI,CAAC,OAAO;YACd;QACF;IACF;AACF","debugId":null}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/src/store/products/index.ts"],"sourcesContent":["import { enableStaticRendering } from \"mobx-react-lite\";\r\nimport { ProductsStore } from \"./ProductsStore\";\r\nimport { Product } from \"@prisma/client\";\r\nimport { TPage } from \"./server/refresh\";\r\n\r\nenableStaticRendering(typeof window === \"undefined\");\r\n\r\nexport function getProductsStore(data: TPage<Product>) {\r\n  return new ProductsStore(data);\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;;;AAIA,CAAA,GAAA,8JAAA,CAAA,wBAAqB,AAAD,EAAE,gBAAkB;AAEjC,SAAS,iBAAiB,IAAoB;IACnD,OAAO,IAAI,yIAAA,CAAA,gBAAa,CAAC;AAC3B","debugId":null}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/src/store/products/StoreProvider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, ReactNode, useContext } from \"react\";\r\nimport { ProductsStore } from \"./ProductsStore\";\r\nimport { Product } from \"@prisma/client\";\r\nimport { TPage } from \"./server/refresh\";\r\nimport { getProductsStore } from \".\";\r\n\r\nconst StoreContext = createContext<ProductsStore>({} as any);\r\n\r\nexport function useProducts() {\r\n  return useContext(StoreContext)!;\r\n}\r\n\r\nexport const StoreProvider = ({\r\n  children,\r\n  data,\r\n}: {\r\n  children: ReactNode;\r\n  data: TPage<Product>;\r\n}) => (\r\n  <StoreContext.Provider value={getProductsStore(data)}>\r\n    {children}\r\n  </StoreContext.Provider>\r\n);\r\n"],"names":[],"mappings":";;;;;AAEA;AAIA;AANA;;;;AAQA,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAiB,CAAC;AAE5C,SAAS;IACd,OAAO,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;AACpB;AAEO,MAAM,gBAAgB,CAAC,EAC5B,QAAQ,EACR,IAAI,EAIL,iBACC,8OAAC,aAAa,QAAQ;QAAC,OAAO,CAAA,GAAA,iIAAA,CAAA,mBAAgB,AAAD,EAAE;kBAC5C","debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/app/list/ProductsList.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useProducts } from \"@/src/store/products/StoreProvider\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport Link from \"next/link\";\r\n\r\nexport const ProductsList = observer(() => {\r\n  const store = useProducts();\r\n\r\n  return (\r\n    <div\r\n      className=\"products\"\r\n      style={{ display: \"flex\", flexDirection: \"column\", gap: \"8px\" }}\r\n    >\r\n      <div style={{ display: \"flex\", gap: \"8px\" }}>\r\n        {store.hasPrevious && (\r\n          <Link\r\n            style={{ background: store.isLoading ? \"red\" : undefined }}\r\n            onClick={() => store.next()}\r\n            href={`/page/${store.currentPage - 1}`}\r\n          >\r\n            Prev\r\n          </Link>\r\n        )}\r\n        <button\r\n          disabled={store.isLoading}\r\n          style={{ background: store.isLoading ? \"red\" : undefined }}\r\n          onClick={() => store.refresh()}\r\n        >\r\n          Refresh\r\n        </button>\r\n        {store.hasMore && (\r\n          <Link\r\n            style={{ background: store.isLoading ? \"red\" : undefined }}\r\n            onClick={() => store.next()}\r\n            href={`/page/${store.currentPage + 1}`}\r\n          >\r\n            Next\r\n          </Link>\r\n        )}\r\n      </div>\r\n      <div>\r\n        {store.products.map((c) => (\r\n          <div className=\"product\" key={c.id}>\r\n            <button\r\n              disabled={store.isLoading}\r\n              style={{ background: store.isLoading ? \"red\" : undefined }}\r\n              onClick={() => {\r\n                store.remove(c);\r\n              }}\r\n            >\r\n              x\r\n            </button>{\" \"}\r\n            {c.name}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAMO,MAAM,eAAe,CAAA,GAAA,uJAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,QAAQ,CAAA,GAAA,0IAAA,CAAA,cAAW,AAAD;IAExB,qBACE,8OAAC;QACC,WAAU;QACV,OAAO;YAAE,SAAS;YAAQ,eAAe;YAAU,KAAK;QAAM;;0BAE9D,8OAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,KAAK;gBAAM;;oBACvC,MAAM,WAAW,kBAChB,8OAAC,4JAAA,CAAA,UAAI;wBACH,OAAO;4BAAE,YAAY,MAAM,SAAS,GAAG,QAAQ;wBAAU;wBACzD,SAAS,IAAM,MAAM,IAAI;wBACzB,MAAM,CAAC,MAAM,EAAE,MAAM,WAAW,GAAG,GAAG;kCACvC;;;;;;kCAIH,8OAAC;wBACC,UAAU,MAAM,SAAS;wBACzB,OAAO;4BAAE,YAAY,MAAM,SAAS,GAAG,QAAQ;wBAAU;wBACzD,SAAS,IAAM,MAAM,OAAO;kCAC7B;;;;;;oBAGA,MAAM,OAAO,kBACZ,8OAAC,4JAAA,CAAA,UAAI;wBACH,OAAO;4BAAE,YAAY,MAAM,SAAS,GAAG,QAAQ;wBAAU;wBACzD,SAAS,IAAM,MAAM,IAAI;wBACzB,MAAM,CAAC,MAAM,EAAE,MAAM,WAAW,GAAG,GAAG;kCACvC;;;;;;;;;;;;0BAKL,8OAAC;0BACE,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAC,kBACnB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,UAAU,MAAM,SAAS;gCACzB,OAAO;oCAAE,YAAY,MAAM,SAAS,GAAG,QAAQ;gCAAU;gCACzD,SAAS;oCACP,MAAM,MAAM,CAAC;gCACf;0CACD;;;;;;4BAES;4BACT,EAAE,IAAI;;uBAVqB,EAAE,EAAE;;;;;;;;;;;;;;;;AAgB5C","debugId":null}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/app/components/ui/Header.tsx"],"sourcesContent":["\"use client\";\n\nexport const Header = () => {\n  return (\n    <header\n      style={{\n        backgroundColor: \"#ffffff\",\n        boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\",\n        margin: \"0 auto\",\n        padding: \"16px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        marginBottom: \"30px\",\n        gap: \"24px\",\n        background: \"linear-gradient(to right,rgb(245, 245, 245))\",\n      }}\n    >\n      {/* Logo */}\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          width: \"100%\",\n          padding: \"0 24px\",\n        }}\n      >\n        <h1\n          style={{\n            fontSize: \"24px\",\n            fontWeight: \"700\",\n            color: \"#333333\",\n            margin: 0,\n          }}\n        >\n          FerreHome\n        </h1>\n\n        {/* Buscador */}\n        <input\n          type=\"text\"\n          placeholder=\"Buscar productos...\"\n          defaultValue=\"\"\n          style={{\n            border: \"1px solid #cccccc\",\n            borderRadius: \"4px\",\n            padding: \"8px 12px\",\n            width: \"35%\",\n            backgroundColor: \"#f9f9f9\",\n          }}\n        />\n\n        {/* Navegación */}\n        <nav style={{ display: \"flex\", gap: \"24px\" }}>\n          {[\"Inicio\", \"Categorías\", \"Ofertas\", \"Contacto\"].map((item) => (\n            <a\n              key={item}\n              href={`#${item.toLowerCase()}`}\n              style={{\n                color: \"#555555\",\n                textDecoration: \"none\",\n                fontWeight: \"500\",\n              }}\n              // onMouseOver={(e) => (e.currentTarget.style.color = \"#000000\")}\n              // onMouseOut={(e) => (e.currentTarget.style.color = \"#555555\")}\n            >\n              {item}\n            </a>\n          ))}\n        </nav>\n      </div>\n    </header>\n  );\n};\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,SAAS;IACpB,qBACE,8OAAC;QACC,OAAO;YACL,iBAAiB;YACjB,WAAW;YACX,QAAQ;YACR,SAAS;YACT,SAAS;YACT,YAAY;YACZ,gBAAgB;YAChB,cAAc;YACd,KAAK;YACL,YAAY;QACd;kBAGA,cAAA,8OAAC;YACC,OAAO;gBACL,SAAS;gBACT,gBAAgB;gBAChB,YAAY;gBACZ,OAAO;gBACP,SAAS;YACX;;8BAEA,8OAAC;oBACC,OAAO;wBACL,UAAU;wBACV,YAAY;wBACZ,OAAO;wBACP,QAAQ;oBACV;8BACD;;;;;;8BAKD,8OAAC;oBACC,MAAK;oBACL,aAAY;oBACZ,cAAa;oBACb,OAAO;wBACL,QAAQ;wBACR,cAAc;wBACd,SAAS;wBACT,OAAO;wBACP,iBAAiB;oBACnB;;;;;;8BAIF,8OAAC;oBAAI,OAAO;wBAAE,SAAS;wBAAQ,KAAK;oBAAO;8BACxC;wBAAC;wBAAU;wBAAc;wBAAW;qBAAW,CAAC,GAAG,CAAC,CAAC,qBACpD,8OAAC;4BAEC,MAAM,CAAC,CAAC,EAAE,KAAK,WAAW,IAAI;4BAC9B,OAAO;gCACL,OAAO;gCACP,gBAAgB;gCAChB,YAAY;4BACd;sCAIC;2BAVI;;;;;;;;;;;;;;;;;;;;;AAiBnB","debugId":null}}]
}