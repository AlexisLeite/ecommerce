{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/src/store/products/server/refresh.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { getPrismaClient } from \"@/src/prisma/getClient\";\r\nimport { Product } from \"@prisma/client\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\nexport type TPage<T> = {\r\n  data: T[];\r\n  pages: number;\r\n  currentPage: number;\r\n};\r\n\r\nexport async function refresh(\r\n  page: number = 0,\r\n  revalidate = true,\r\n): Promise<TPage<Product>> {\r\n  if (revalidate) {\r\n    revalidatePath(\"/\");\r\n  }\r\n\r\n  const totalProducts = await getPrismaClient().product.count();\r\n  const pages = Math.ceil(totalProducts / 10);\r\n  const currentPage = Math.max(1, Math.min(page, pages));\r\n\r\n  return {\r\n    pages,\r\n    currentPage,\r\n    data: await getPrismaClient().product.findMany({\r\n      take: 10,\r\n      skip: 10 * (currentPage - 1),\r\n      orderBy: { name: \"asc\" },\r\n    }),\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;;;IAYsB,UAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/src/store/products/server/removeProduct.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { getPrismaClient } from \"@/src/prisma/getClient\";\r\nimport { Product } from \"@prisma/client\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\nexport async function removeProduct(product: Product) {\r\n  const result = await getPrismaClient().product.delete({\r\n    where: { id: product.id },\r\n  });\r\n\r\n  revalidatePath(\"/\");\r\n\r\n  return result;\r\n}\r\n"],"names":[],"mappings":";;;;;;IAMsB,gBAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/src/store/products/ProductsStore.ts"],"sourcesContent":["import { Product } from \"@prisma/client\";\r\nimport { makeAutoObservable, runInAction, toJS } from \"mobx\";\r\nimport { refresh, TPage } from \"./server/refresh\";\r\nimport { removeProduct } from \"./server/removeProduct\";\r\n\r\nexport class ProductsStore {\r\n  private loading = 0;\r\n  private page: TPage<Product> = {\r\n    currentPage: 1,\r\n    data: [],\r\n    pages: 1,\r\n  };\r\n\r\n  constructor(data: TPage<Product>) {\r\n    this.page = data;\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  public get currentPage() {\r\n    return this.page.currentPage;\r\n  }\r\n\r\n  public get isLoading() {\r\n    return this.loading > 0;\r\n  }\r\n\r\n  public get hasMore() {\r\n    return this.page.currentPage < this.page.pages;\r\n  }\r\n\r\n  public get hasPrevious() {\r\n    return this.page.currentPage > 1;\r\n  }\r\n\r\n  public get products() {\r\n    return this.page.data;\r\n  }\r\n\r\n  public async next() {\r\n    this.loading++;\r\n  }\r\n\r\n  public async previous() {\r\n    this.loading--;\r\n  }\r\n\r\n  public async refresh() {\r\n    this.asyncFn(async () => {\r\n      const page = await refresh(this.page.currentPage);\r\n      runInAction(() => {\r\n        this.page = page;\r\n      });\r\n    });\r\n  }\r\n\r\n  public async remove(product: Product) {\r\n    this.asyncFn(async () => {\r\n      await removeProduct(toJS(product));\r\n      this.refresh();\r\n    });\r\n  }\r\n\r\n  private async asyncFn<T>(fn: () => Promise<T>): Promise<T> {\r\n    this.loading++;\r\n    try {\r\n      return await fn();\r\n    } finally {\r\n      runInAction(() => {\r\n        this.loading--;\r\n      });\r\n    }\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AACA;AACA;AACA;;;;AAEO,MAAM;IACH,UAAU,EAAE;IACZ,OAAuB;QAC7B,aAAa;QACb,MAAM,EAAE;QACR,OAAO;IACT,EAAE;IAEF,YAAY,IAAoB,CAAE;QAChC,IAAI,CAAC,IAAI,GAAG;QACZ,CAAA,GAAA,2IAAA,CAAA,qBAAkB,AAAD,EAAE,IAAI;IACzB;IAEA,IAAW,cAAc;QACvB,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW;IAC9B;IAEA,IAAW,YAAY;QACrB,OAAO,IAAI,CAAC,OAAO,GAAG;IACxB;IAEA,IAAW,UAAU;QACnB,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK;IAChD;IAEA,IAAW,cAAc;QACvB,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG;IACjC;IAEA,IAAW,WAAW;QACpB,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI;IACvB;IAEA,MAAa,OAAO;QAClB,IAAI,CAAC,OAAO;IACd;IAEA,MAAa,WAAW;QACtB,IAAI,CAAC,OAAO;IACd;IAEA,MAAa,UAAU;QACrB,IAAI,CAAC,OAAO,CAAC;YACX,MAAM,OAAO,MAAM,CAAA,GAAA,0KAAA,CAAA,UAAO,AAAD,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW;YAChD,CAAA,GAAA,2IAAA,CAAA,cAAW,AAAD,EAAE;gBACV,IAAI,CAAC,IAAI,GAAG;YACd;QACF;IACF;IAEA,MAAa,OAAO,OAAgB,EAAE;QACpC,IAAI,CAAC,OAAO,CAAC;YACX,MAAM,CAAA,GAAA,0KAAA,CAAA,gBAAa,AAAD,EAAE,CAAA,GAAA,2IAAA,CAAA,OAAI,AAAD,EAAE;YACzB,IAAI,CAAC,OAAO;QACd;IACF;IAEA,MAAc,QAAW,EAAoB,EAAc;QACzD,IAAI,CAAC,OAAO;QACZ,IAAI;YACF,OAAO,MAAM;QACf,SAAU;YACR,CAAA,GAAA,2IAAA,CAAA,cAAW,AAAD,EAAE;gBACV,IAAI,CAAC,OAAO;YACd;QACF;IACF;AACF","debugId":null}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/src/store/products/index.ts"],"sourcesContent":["import { enableStaticRendering } from \"mobx-react-lite\";\r\nimport { ProductsStore } from \"./ProductsStore\";\r\nimport { Product } from \"@prisma/client\";\r\nimport { TPage } from \"./server/refresh\";\r\n\r\nenableStaticRendering(typeof window === \"undefined\");\r\n\r\nexport function getProductsStore(data: TPage<Product>) {\r\n  return new ProductsStore(data);\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;;;AAIA,CAAA,GAAA,8JAAA,CAAA,wBAAqB,AAAD,EAAE,gBAAkB;AAEjC,SAAS,iBAAiB,IAAoB;IACnD,OAAO,IAAI,yIAAA,CAAA,gBAAa,CAAC;AAC3B","debugId":null}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/src/store/products/StoreProvider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, ReactNode, useContext } from \"react\";\r\nimport { ProductsStore } from \"./ProductsStore\";\r\nimport { Product } from \"@prisma/client\";\r\nimport { TPage } from \"./server/refresh\";\r\nimport { getProductsStore } from \".\";\r\n\r\nconst StoreContext = createContext<ProductsStore>({} as any);\r\n\r\nexport function useProducts() {\r\n  return useContext(StoreContext)!;\r\n}\r\n\r\nexport const StoreProvider = ({\r\n  children,\r\n  data,\r\n}: {\r\n  children: ReactNode;\r\n  data: TPage<Product>;\r\n}) => (\r\n  <StoreContext.Provider value={getProductsStore(data)}>\r\n    {children}\r\n  </StoreContext.Provider>\r\n);\r\n"],"names":[],"mappings":";;;;;AAEA;AAIA;AANA;;;;AAQA,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAiB,CAAC;AAE5C,SAAS;IACd,OAAO,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;AACpB;AAEO,MAAM,gBAAgB,CAAC,EAC5B,QAAQ,EACR,IAAI,EAIL,iBACC,8OAAC,aAAa,QAAQ;QAAC,OAAO,CAAA,GAAA,iIAAA,CAAA,mBAAgB,AAAD,EAAE;kBAC5C","debugId":null}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/app/components/ui/Button.tsx"],"sourcesContent":["\"use client\";\nimport React, { ButtonHTMLAttributes, ReactNode } from \"react\";\nimport \"../../styles/components/ui/button.css\";\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  children: ReactNode;\n  variant?: string;\n  className?: string;\n}\n\nexport const Button: React.FC<ButtonProps> = ({\n  children,\n  variant = \"\",\n  className = \"\",\n  ...props\n}) => {\n  return (\n    <button {...props} className={`${className} ${variant}`}>\n      {children}\n    </button>\n  );\n};\n"],"names":[],"mappings":";;;;AAAA;;;AAUO,MAAM,SAAgC,CAAC,EAC5C,QAAQ,EACR,UAAU,EAAE,EACZ,YAAY,EAAE,EACd,GAAG,OACJ;IACC,qBACE,8OAAC;QAAQ,GAAG,KAAK;QAAE,WAAW,GAAG,UAAU,CAAC,EAAE,SAAS;kBACpD;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/app/components/ui/Carousel.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { Button } from \"./Button\";\nimport \"../../styles/components/ui/carousel.css\";\n\nexport const Carousel = () => {\n  const slides = [\n    \"/images/slide1.jpg\",\n    \"/images/slide2.png\",\n    \"/images/slide3.png\",\n  ];\n  const [current, setCurrent] = useState(0);\n  const len = slides.length;\n\n  const prev = () => setCurrent((current - 1 + len) % len);\n  const next = () => setCurrent((current + 1) % len);\n\n  return (\n    <div className=\"carousel\">\n      <div className=\"carousel__imgContainer\">\n        <img src={slides[current]} alt={`Slide ${current + 1}`} />\n      </div>\n\n      <Button onClick={prev} variant=\"primary\" className=\"carousel__prev\">\n        ‹\n      </Button>\n      <Button className=\"carousel__next\" onClick={next} variant=\"primary\">\n        ›\n      </Button>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;;AAKO,MAAM,WAAW;IACtB,MAAM,SAAS;QACb;QACA;QACA;KACD;IACD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,MAAM,OAAO,MAAM;IAEzB,MAAM,OAAO,IAAM,WAAW,CAAC,UAAU,IAAI,GAAG,IAAI;IACpD,MAAM,OAAO,IAAM,WAAW,CAAC,UAAU,CAAC,IAAI;IAE9C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,KAAK,MAAM,CAAC,QAAQ;oBAAE,KAAK,CAAC,MAAM,EAAE,UAAU,GAAG;;;;;;;;;;;0BAGxD,8OAAC,kIAAA,CAAA,SAAM;gBAAC,SAAS;gBAAM,SAAQ;gBAAU,WAAU;0BAAiB;;;;;;0BAGpE,8OAAC,kIAAA,CAAA,SAAM;gBAAC,WAAU;gBAAiB,SAAS;gBAAM,SAAQ;0BAAU;;;;;;;;;;;;AAK1E","debugId":null}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/app/components/ui/Card.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"./Button\";\nimport \"../../styles/components/ui/card.css\";\n\nconst Card = ({\n  title,\n  image,\n  description,\n  price,\n  onBuy,\n}: {\n  title: string;\n  image: string;\n  description?: string;\n  price: number;\n  onBuy: () => void;\n}) => {\n  return (\n    <div className=\"card\">\n      <div className=\"card__imgContainer\">\n        <img src={image} alt={title} />\n      </div>\n      <div className=\"card__info\">\n        <h3>{title}</h3>\n        <p>{description}</p>\n        <div className=\"card__footer\">\n          <span className=\"card__price\">$ {price}</span>\n          <Button variant=\"primary\" onClick={onBuy}>\n            Comprar\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;;AAKA,MAAM,OAAO,CAAC,EACZ,KAAK,EACL,KAAK,EACL,WAAW,EACX,KAAK,EACL,KAAK,EAON;IACC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,KAAK;oBAAO,KAAK;;;;;;;;;;;0BAExB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;kCAAI;;;;;;kCACL,8OAAC;kCAAG;;;;;;kCACJ,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;;oCAAc;oCAAG;;;;;;;0CACjC,8OAAC,kIAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAU,SAAS;0CAAO;;;;;;;;;;;;;;;;;;;;;;;;AAOpD;uCAEe","debugId":null}},
    {"offset": {"line": 350, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/app/template1/sections/Products.tsx"],"sourcesContent":["\"use client\";\n\nimport { useProducts } from \"../../../src/store/products/StoreProvider\";\nimport Card from \"../../components/ui/Card\";\n\nexport const Products = () => {\n  const store = useProducts();\n  return (\n    <div className=\"products\">\n      {store.products.map((c) => (\n        <Card\n          key={c.id}\n          title={c.name}\n          image={\"\"}\n          description={c.description === null ? \"\" : c.description}\n          price={c.price}\n          onBuy={() => console.log(`${c.name} añadido al carrito`)}\n        />\n      ))}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKO,MAAM,WAAW;IACtB,MAAM,QAAQ,CAAA,GAAA,0IAAA,CAAA,cAAW,AAAD;IACxB,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAC,kBACnB,8OAAC,gIAAA,CAAA,UAAI;gBAEH,OAAO,EAAE,IAAI;gBACb,OAAO;gBACP,aAAa,EAAE,WAAW,KAAK,OAAO,KAAK,EAAE,WAAW;gBACxD,OAAO,EAAE,KAAK;gBACd,OAAO,IAAM,QAAQ,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,mBAAmB,CAAC;eALlD,EAAE,EAAE;;;;;;;;;;AAUnB","debugId":null}},
    {"offset": {"line": 387, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/app/template1/LandingPage.tsx"],"sourcesContent":["\"use client\";\nimport { Carousel } from \"../components/ui/Carousel\";\nimport { Products } from \"./sections/Products\";\nimport \"../styles/landing.css\";\n\nexport const LandingPage = () => {\n  return (\n    <div className=\"landingPage\">\n      <Carousel />\n      <Products />\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;;AAKO,MAAM,cAAc;IACzB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,oIAAA,CAAA,WAAQ;;;;;0BACT,8OAAC,yIAAA,CAAA,WAAQ;;;;;;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 425, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/app/components/ui/Header.tsx"],"sourcesContent":["\"use client\";\nimport \"../../styles/components/ui/header.css\";\nconst navItems = [\n  { label: \"Inicio\", selected: true },\n  { label: \"Categorías\", selected: false },\n  { label: \"Ofertas\", selected: false },\n  { label: \"Contacto\", selected: false },\n];\nexport const Header = () => {\n  return (\n    <header className=\"header\">\n      <div className=\"header__content\">\n        <h2>Home</h2>\n        <input\n          type=\"text\"\n          placeholder=\"Buscar productos...\"\n          className=\"header__searchBar\"\n        />\n\n        <nav>\n          {navItems.map((c) => (\n            <span\n              className={`${c.selected ? \"selected\" : \"\"}`}\n              key={c.label}\n              onClick={() => {}}\n            >\n              {c.label}\n            </span>\n          ))}\n        </nav>\n      </div>\n    </header>\n  );\n};\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,MAAM,WAAW;IACf;QAAE,OAAO;QAAU,UAAU;IAAK;IAClC;QAAE,OAAO;QAAc,UAAU;IAAM;IACvC;QAAE,OAAO;QAAW,UAAU;IAAM;IACpC;QAAE,OAAO;QAAY,UAAU;IAAM;CACtC;AACM,MAAM,SAAS;IACpB,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;8BAAG;;;;;;8BACJ,8OAAC;oBACC,MAAK;oBACL,aAAY;oBACZ,WAAU;;;;;;8BAGZ,8OAAC;8BACE,SAAS,GAAG,CAAC,CAAC,kBACb,8OAAC;4BACC,WAAW,GAAG,EAAE,QAAQ,GAAG,aAAa,IAAI;4BAE5C,SAAS,KAAO;sCAEf,EAAE,KAAK;2BAHH,EAAE,KAAK;;;;;;;;;;;;;;;;;;;;;AAU1B","debugId":null}}]
}