{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/src/store/products/server/refresh.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { getPrismaClient } from \"@/src/prisma/getClient\";\r\nimport { Product } from \"@prisma/client\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\nexport type TPage<T> = {\r\n  data: T[];\r\n  pages: number;\r\n  currentPage: number;\r\n};\r\n\r\nexport async function refresh(\r\n  page: number = 0,\r\n  revalidate = true,\r\n): Promise<TPage<Product>> {\r\n  if (revalidate) {\r\n    revalidatePath(\"/\");\r\n  }\r\n\r\n  const totalProducts = await getPrismaClient().product.count();\r\n  const pages = Math.ceil(totalProducts / 10);\r\n  const currentPage = Math.max(1, Math.min(page, pages));\r\n\r\n  return {\r\n    pages,\r\n    currentPage,\r\n    data: await getPrismaClient().product.findMany({\r\n      take: 10,\r\n      skip: 10 * (currentPage - 1),\r\n      orderBy: { name: \"asc\" },\r\n    }),\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;;;IAYsB,UAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/src/store/products/server/removeProduct.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { getPrismaClient } from \"@/src/prisma/getClient\";\r\nimport { Product } from \"@prisma/client\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\nexport async function removeProduct(product: Product) {\r\n  const result = await getPrismaClient().product.delete({\r\n    where: { id: product.id },\r\n  });\r\n\r\n  revalidatePath(\"/\");\r\n\r\n  return result;\r\n}\r\n"],"names":[],"mappings":";;;;;;IAMsB,gBAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/src/store/products/ProductsStore.ts"],"sourcesContent":["import { Product } from \"@prisma/client\";\r\nimport { makeAutoObservable, runInAction, toJS } from \"mobx\";\r\nimport { refresh, TPage } from \"./server/refresh\";\r\nimport { removeProduct } from \"./server/removeProduct\";\r\n\r\nexport class ProductsStore {\r\n  private loading = 0;\r\n  private page: TPage<Product> = {\r\n    currentPage: 1,\r\n    data: [],\r\n    pages: 1,\r\n  };\r\n\r\n  constructor(data: TPage<Product>) {\r\n    this.page = data;\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  public get currentPage() {\r\n    return this.page.currentPage;\r\n  }\r\n\r\n  public get isLoading() {\r\n    return this.loading > 0;\r\n  }\r\n\r\n  public get hasMore() {\r\n    return this.page.currentPage < this.page.pages;\r\n  }\r\n\r\n  public get hasPrevious() {\r\n    return this.page.currentPage > 1;\r\n  }\r\n\r\n  public get products() {\r\n    return this.page.data;\r\n  }\r\n\r\n  public async next() {\r\n    this.loading++;\r\n  }\r\n\r\n  public async previous() {\r\n    this.loading--;\r\n  }\r\n\r\n  public async refresh() {\r\n    this.asyncFn(async () => {\r\n      const page = await refresh(this.page.currentPage);\r\n      runInAction(() => {\r\n        this.page = page;\r\n      });\r\n    });\r\n  }\r\n\r\n  public async remove(product: Product) {\r\n    this.asyncFn(async () => {\r\n      await removeProduct(toJS(product));\r\n      this.refresh();\r\n    });\r\n  }\r\n\r\n  private async asyncFn<T>(fn: () => Promise<T>): Promise<T> {\r\n    this.loading++;\r\n    try {\r\n      return await fn();\r\n    } finally {\r\n      runInAction(() => {\r\n        this.loading--;\r\n      });\r\n    }\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AACA;AACA;AACA;;;;AAEO,MAAM;IACH,UAAU,EAAE;IACZ,OAAuB;QAC7B,aAAa;QACb,MAAM,EAAE;QACR,OAAO;IACT,EAAE;IAEF,YAAY,IAAoB,CAAE;QAChC,IAAI,CAAC,IAAI,GAAG;QACZ,CAAA,GAAA,2IAAA,CAAA,qBAAkB,AAAD,EAAE,IAAI;IACzB;IAEA,IAAW,cAAc;QACvB,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW;IAC9B;IAEA,IAAW,YAAY;QACrB,OAAO,IAAI,CAAC,OAAO,GAAG;IACxB;IAEA,IAAW,UAAU;QACnB,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK;IAChD;IAEA,IAAW,cAAc;QACvB,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG;IACjC;IAEA,IAAW,WAAW;QACpB,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI;IACvB;IAEA,MAAa,OAAO;QAClB,IAAI,CAAC,OAAO;IACd;IAEA,MAAa,WAAW;QACtB,IAAI,CAAC,OAAO;IACd;IAEA,MAAa,UAAU;QACrB,IAAI,CAAC,OAAO,CAAC;YACX,MAAM,OAAO,MAAM,CAAA,GAAA,0KAAA,CAAA,UAAO,AAAD,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW;YAChD,CAAA,GAAA,2IAAA,CAAA,cAAW,AAAD,EAAE;gBACV,IAAI,CAAC,IAAI,GAAG;YACd;QACF;IACF;IAEA,MAAa,OAAO,OAAgB,EAAE;QACpC,IAAI,CAAC,OAAO,CAAC;YACX,MAAM,CAAA,GAAA,0KAAA,CAAA,gBAAa,AAAD,EAAE,CAAA,GAAA,2IAAA,CAAA,OAAI,AAAD,EAAE;YACzB,IAAI,CAAC,OAAO;QACd;IACF;IAEA,MAAc,QAAW,EAAoB,EAAc;QACzD,IAAI,CAAC,OAAO;QACZ,IAAI;YACF,OAAO,MAAM;QACf,SAAU;YACR,CAAA,GAAA,2IAAA,CAAA,cAAW,AAAD,EAAE;gBACV,IAAI,CAAC,OAAO;YACd;QACF;IACF;AACF","debugId":null}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/src/store/products/index.ts"],"sourcesContent":["import { enableStaticRendering } from \"mobx-react-lite\";\r\nimport { ProductsStore } from \"./ProductsStore\";\r\nimport { Product } from \"@prisma/client\";\r\nimport { TPage } from \"./server/refresh\";\r\n\r\nenableStaticRendering(typeof window === \"undefined\");\r\n\r\nexport function getProductsStore(data: TPage<Product>) {\r\n  return new ProductsStore(data);\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;;;AAIA,CAAA,GAAA,8JAAA,CAAA,wBAAqB,AAAD,EAAE,gBAAkB;AAEjC,SAAS,iBAAiB,IAAoB;IACnD,OAAO,IAAI,yIAAA,CAAA,gBAAa,CAAC;AAC3B","debugId":null}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/src/store/products/StoreProvider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, ReactNode, useContext } from \"react\";\r\nimport { ProductsStore } from \"./ProductsStore\";\r\nimport { Product } from \"@prisma/client\";\r\nimport { TPage } from \"./server/refresh\";\r\nimport { getProductsStore } from \".\";\r\n\r\nconst StoreContext = createContext<ProductsStore>({} as any);\r\n\r\nexport function useProducts() {\r\n  return useContext(StoreContext)!;\r\n}\r\n\r\nexport const StoreProvider = ({\r\n  children,\r\n  data,\r\n}: {\r\n  children: ReactNode;\r\n  data: TPage<Product>;\r\n}) => (\r\n  <StoreContext.Provider value={getProductsStore(data)}>\r\n    {children}\r\n  </StoreContext.Provider>\r\n);\r\n"],"names":[],"mappings":";;;;;AAEA;AAIA;AANA;;;;AAQA,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAiB,CAAC;AAE5C,SAAS;IACd,OAAO,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;AACpB;AAEO,MAAM,gBAAgB,CAAC,EAC5B,QAAQ,EACR,IAAI,EAIL,iBACC,8OAAC,aAAa,QAAQ;QAAC,OAAO,CAAA,GAAA,iIAAA,CAAA,mBAAgB,AAAD,EAAE;kBAC5C","debugId":null}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Usuario/Documents/Coding/Next/ecommerce/app/list/ProductsList.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useProducts } from \"@/src/store/products/StoreProvider\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport Link from \"next/link\";\r\n\r\nexport const ProductsList = observer(() => {\r\n  const store = useProducts();\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100\">\r\n      {/* Header */}\r\n      <header className=\"bg-white shadow\">\r\n        <div className=\"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between\">\r\n          <h1 className=\"text-2xl font-bold text-gray-800\">FerreHome</h1>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Buscar productos...\"\r\n            className=\"border rounded-md px-3 py-2 w-1/3\"\r\n          />\r\n          <nav className=\"space-x-6\">\r\n            <a href=\"#\" className=\"text-gray-600 hover:text-gray-800\">\r\n              Inicio\r\n            </a>\r\n            <a href=\"#\" className=\"text-gray-600 hover:text-gray-800\">\r\n              Categorías\r\n            </a>\r\n            <a href=\"#\" className=\"text-gray-600 hover:text-gray-800\">\r\n              Ofertas\r\n            </a>\r\n            <a href=\"#\" className=\"text-gray-600 hover:text-gray-800\">\r\n              Contacto\r\n            </a>\r\n          </nav>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Banner */}\r\n      <section\r\n        className=\"bg-cover bg-center h-64\"\r\n        style={{ backgroundImage: \"url('/images/ferreteria-banner.jpg')\" }}\r\n      >\r\n        <div className=\"bg-black bg-opacity-50 h-full flex items-center justify-center\">\r\n          <h2 className=\"text-white text-4xl font-bold\">\r\n            Todo lo que necesitas para tu proyecto\r\n          </h2>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Categories */}\r\n      <section className=\"max-w-7xl mx-auto px-4 py-8\">\r\n        <h3 className=\"text-xl font-semibold mb-4\">Categorías populares</h3>\r\n        <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-6\">\r\n          {[\"Ferretería\", \"Herramientas\", \"Pinturas\", \"Jardín\"].map((cat) => (\r\n            <div\r\n              key={cat}\r\n              className=\"bg-white p-4 rounded-lg shadow hover:shadow-md transition\"\r\n            >\r\n              <img\r\n                src={`/images/${cat.toLowerCase()}.jpg`}\r\n                alt={cat}\r\n                className=\"h-24 w-full object-cover rounded-md mb-2\"\r\n              />\r\n              <p className=\"text-center font-medium text-gray-700\">{cat}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      {/* Product Grid */}\r\n      <section className=\"max-w-7xl mx-auto px-4 py-8\">\r\n        <h3 className=\"text-xl font-semibold mb-4\">Productos destacados</h3>\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n          {/* Example Product Card */}\r\n          {Array.from({ length: 8 }).map((_, i) => (\r\n            <div\r\n              key={i}\r\n              className=\"bg-white p-4 rounded-lg shadow hover:shadow-lg transition flex flex-col\"\r\n            >\r\n              <img\r\n                src=\"/images/product-placeholder.png\"\r\n                alt=\"Producto\"\r\n                className=\"h-40 object-contain mb-4\"\r\n              />\r\n              <h4 className=\"font-medium text-gray-800 mb-2\">\r\n                Producto {i + 1}\r\n              </h4>\r\n              <p className=\"text-gray-600 mb-4\">\r\n                Descripción breve del producto.\r\n              </p>\r\n              <div className=\"mt-auto flex items-center justify-between\">\r\n                <span className=\"font-bold text-lg text-blue-600\">$99.99</span>\r\n                <button className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition\">\r\n                  Comprar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      {/* Footer */}\r\n      <footer className=\"bg-white mt-12 py-6\">\r\n        <div className=\"max-w-7xl mx-auto px-4 text-center text-gray-600\">\r\n          © 2025 FerreHome. Todos los derechos reservados.\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n});\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAHA;;;;AAMO,MAAM,eAAe,CAAA,GAAA,uJAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,QAAQ,CAAA,GAAA,0IAAA,CAAA,cAAW,AAAD;IAExB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAO,WAAU;0BAChB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAmC;;;;;;sCACjD,8OAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,WAAU;;;;;;sCAEZ,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,MAAK;oCAAI,WAAU;8CAAoC;;;;;;8CAG1D,8OAAC;oCAAE,MAAK;oCAAI,WAAU;8CAAoC;;;;;;8CAG1D,8OAAC;oCAAE,MAAK;oCAAI,WAAU;8CAAoC;;;;;;8CAG1D,8OAAC;oCAAE,MAAK;oCAAI,WAAU;8CAAoC;;;;;;;;;;;;;;;;;;;;;;;0BAQhE,8OAAC;gBACC,WAAU;gBACV,OAAO;oBAAE,iBAAiB;gBAAuC;0BAEjE,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAG,WAAU;kCAAgC;;;;;;;;;;;;;;;;0BAOlD,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,8OAAC;wBAAI,WAAU;kCACZ;4BAAC;4BAAc;4BAAgB;4BAAY;yBAAS,CAAC,GAAG,CAAC,CAAC,oBACzD,8OAAC;gCAEC,WAAU;;kDAEV,8OAAC;wCACC,KAAK,CAAC,QAAQ,EAAE,IAAI,WAAW,GAAG,IAAI,CAAC;wCACvC,KAAK;wCACL,WAAU;;;;;;kDAEZ,8OAAC;wCAAE,WAAU;kDAAyC;;;;;;;+BARjD;;;;;;;;;;;;;;;;0BAeb,8OAAC;gBAAQ,WAAU;;kCACjB,8OAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,8OAAC;wBAAI,WAAU;kCAEZ,MAAM,IAAI,CAAC;4BAAE,QAAQ;wBAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBACjC,8OAAC;gCAEC,WAAU;;kDAEV,8OAAC;wCACC,KAAI;wCACJ,KAAI;wCACJ,WAAU;;;;;;kDAEZ,8OAAC;wCAAG,WAAU;;4CAAiC;4CACnC,IAAI;;;;;;;kDAEhB,8OAAC;wCAAE,WAAU;kDAAqB;;;;;;kDAGlC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAkC;;;;;;0DAClD,8OAAC;gDAAO,WAAU;0DAA2E;;;;;;;;;;;;;+BAhB1F;;;;;;;;;;;;;;;;0BA0Bb,8OAAC;gBAAO,WAAU;0BAChB,cAAA,8OAAC;oBAAI,WAAU;8BAAmD;;;;;;;;;;;;;;;;;AAM1E","debugId":null}}]
}